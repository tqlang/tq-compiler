from Std.Console import
from Std.Process import
from Std.Test import

@export("main") func main() void {
	writeln("Hello, World!")

	writeln("Testing inheritance")
	let Randomizer rng = new Randomizer()
	rng.seed = 10
	rng.entropy = 20

	writeln(rng.seed)
	writeln(rng.entropy)

	rng.seed = 20
	rng.entropy = 30
	rng.seed = 10

	writeln(rng.seed)
	writeln(rng.entropy)

	writeln("Testing arrays")
	let []int integerArray = [ 10, 20, 30 ]

	writeln(integerArray[0])
	writeln(integerArray[1])
	writeln(integerArray[2])

	integerArray[0] = 3
	integerArray[1] = 2
	integerArray[2] = 1

	writeln(integerArray[0])
	writeln(integerArray[1])
	writeln(integerArray[2])

	writeln("Testing enums")
	let KindOfSomething something = KindOfSomething.shit
	something = KindOfSomething.poop
}

typedef KindOfSomething {
	shit,
	poop,
}

struct Randomizer extends CoolStruct {

	@public let uint seed
	@public let uint last

}

struct CoolStruct {

	@public let uint entropy

}

struct StructPackingTest {

	@public let u8 a
	@public let u128 b
	@public let u8 c
	@public let u64 d
	@public let u16 e
	@public let u32 f
	@public let u8 g
	@public let u16 h	
	@public let u32 i

}

