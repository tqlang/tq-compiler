from Std.Io import
from Dotnet.System.IO import { FileStream as CsFStream , SeekOrigin as CsSeekOrigin , FileMode as CsFileMode , FileAccess as CsFileAccess }
@public()
struct File { let * CsFStream _filestream constructor (* CsFStream stream) { _filestream = stream } }
@public()
struct FileReader extends Reader { }
@public()
struct FileWriter extends Writer { }

from Dotnet.System.IO import { FileStream as CsFStream , SeekOrigin as CsSeekOrigin , FileMode as CsFileMode , FileAccess as CsFileAccess }
@public()
func open (string path) File { let filestream = new CsFStream(path, FileMode.openOrCreate, FileAccess.RO) return new File(filestream) }
@public()
typedef( CsSeekOrigin ) SeekOrigin {
	begin = CsSeekOrigin.Begin,
	current = CsSeekOrigin.current,
	end = CsSeekOrigin.End
}
@public()
typedef( CsFileMode ) FileMode {
	createNew = CsFileMode.CreateNew,
	create = CsFileMode.Create,
	open = CsFileMode.Open,
	openOrCreate = CsFileMode.OpenOrCreate,
	truncate = CsFileMode.Truncate,
	append = CsFileMode.Append
}
@public()
typedef( CsFileAccess ) FileAccess {
	_fuck,
	RO = CsFileAccess.Read,
	WO = CsFileAccess.Write,
	RW = CsFileAccess.ReadWrite
}

